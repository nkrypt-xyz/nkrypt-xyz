# nkrypt-xyz Web Server Configuration Example
# Copy this file to .env and update values for your environment
#
# IMPORTANT: Variables marked as REQUIRED must be set.
# The application will fail to start if they are missing.

# =============================================================================
# REQUIRED: External Dependencies
# =============================================================================
# These MUST be provided - no defaults. Application will crash if missing.

# Database Configuration (PostgreSQL) - REQUIRED
NK_DATABASE_URL=postgres://nkrypt:nkrypt_dev_password@localhost:5432/nkrypt?sslmode=disable

# Redis Configuration - REQUIRED
NK_REDIS_ADDR=localhost:6379

# MinIO Configuration (S3-compatible object storage) - REQUIRED
NK_MINIO_ENDPOINT=localhost:9000
NK_MINIO_ACCESS_KEY=minioadmin
NK_MINIO_SECRET_KEY=minioadmin

# =============================================================================
# REQUIRED: Security Credentials
# =============================================================================

# Default admin password - REQUIRED
# IMPORTANT: Change this to a strong password for production!
# This is the password for the initial admin user created on first startup.
NK_IAM_DEFAULT_ADMIN_PASSWORD=PleaseChangeMe@YourEarliest2Day

# =============================================================================
# OPTIONAL: External Dependency Settings
# =============================================================================
# These have defaults and can be omitted if defaults are acceptable.

# Redis password (default: empty string)
NK_REDIS_PASSWORD=

# Redis database number (default: 0)
NK_REDIS_DB=0

# MinIO bucket name (default: nkrypt-blobs)
NK_MINIO_BUCKET_NAME=nkrypt-blobs

# MinIO SSL (default: false)
NK_MINIO_USE_SSL=false

# =============================================================================
# OPTIONAL: Application Configuration
# =============================================================================
# These have sensible defaults and can be omitted.

# Server Configuration
NK_SERVER_HTTP_PORT=9041
NK_SERVER_CONTEXT_PATH=

# Database Connection Pool
NK_DATABASE_MAX_OPEN_CONNS=25
NK_DATABASE_MAX_IDLE_CONNS=5

# Blob Storage Configuration
NK_BLOB_STORAGE_MAX_FILE_SIZE_BYTES=10737418240

# IAM Configuration
NK_IAM_API_KEY_LENGTH=128
NK_IAM_SESSION_VALIDITY_DURATION=168h
NK_IAM_DEFAULT_ADMIN_USERNAME=admin
NK_IAM_DEFAULT_ADMIN_DISPLAY_NAME=Default Admin
NK_IAM_DEFAULT_ADMIN_PASSWORD=PleaseChangeMe@YourEarliest2Day

# Crypto Configuration (Argon2id)
NK_CRYPTO_ARGON2_MEMORY=65536
NK_CRYPTO_ARGON2_ITERATIONS=3
NK_CRYPTO_ARGON2_PARALLELISM=2
NK_CRYPTO_ARGON2_SALT_LENGTH=16
NK_CRYPTO_ARGON2_KEY_LENGTH=32

# Logging Configuration
NK_LOG_LEVEL=info
NK_LOG_FORMAT=json
